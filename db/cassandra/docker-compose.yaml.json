{
  "parts": [
    "version: '3'\nservices:\n  cassandraNode0:\n    image: cassandra\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n0\n    environment:\n      CASSANDRA_BROADCAST_ADDRESS: \"cassandraNode0\"\n    ports:\n      - \"7000:7000\"\n      - \"9042:9042\"\n    volumes:\n      - \"~/etl-nosql/db/volumes/cassandra/var/lib/cassandra:/var/lib/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/etc/cassandra:/etc/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/schema:/tables_schema\"\n      - \"~/etl-nosql/db/tables:/tables_data\"\n    networks:\n      - cassandra",
    "  cassandraNode1:\n    image: cassandra\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n1\n    environment:\n      CASSANDRA_BROADCAST_ADDRESS: \"cassandraNode1\"\n      CASSANDRA_SEEDS: \"cassandraNode0\"\n    depends_on:\n      - cassandraNode0\n    ports:\n      - \"7000:7000\"\n      - \"9042:9042\"\n    volumes:\n      - \"~/etl-nosql/db/volumes/cassandra/var/lib/cassandra:/var/lib/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/etc/cassandra:/etc/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/schema:/tables\"\n      - \"~/etl-nosql/db/tables:/tables_data\"\n    networks:\n      - cassandra",
    "  cassandraNode2:\n    image: cassandra\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n2\n    environment:\n      CASSANDRA_BROADCAST_ADDRESS: \"cassandraNode2\"\n      CASSANDRA_SEEDS: \"cassandraNode0, cassandraNode1\"\n    ports:\n      - \"7000:7000\"\n      - \"9042:9042\"\n    depends_on:\n      - cassandraNode1\n    volumes:\n      - \"~/etl-nosql/db/volumes/cassandra/var/lib/cassandra:/var/lib/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/etc/cassandra:/etc/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/schema:/tables\"\n      - \"~/etl-nosql/db/tables:/tables_data\"\n    networks:\n      - cassandra",
    "  cassandraNode3:\n    image: cassandra\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n3\n    environment:\n      CASSANDRA_BROADCAST_ADDRESS: \"cassandraNode3\"\n      CASSANDRA_SEEDS: \"cassandraNode0, cassandraNode1, cassandraNode2\"\n    ports:\n      - \"7000:7000\"\n      - \"9042:9042\"\n    depends_on:\n      - cassandraNode2\n    volumes:\n      - \"~/etl-nosql/db/volumes/cassandra/var/lib/cassandra:/var/lib/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/etc/cassandra:/etc/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/schema:/tables\"\n      - \"~/etl-nosql/db/tables:/tables_data\"\n    networks:\n      - cassandra",
    "  cassandraNode4:\n    image: cassandra\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n4\n    environment:\n      CASSANDRA_BROADCAST_ADDRESS: \"cassandraNode4\"\n      CASSANDRA_SEEDS: \"cassandraNode0, cassandraNode1, cassandraNode2, cassandraNode3\"\n    ports:\n      - \"7000:7000\"\n      - \"9042:9042\"\n    depends_on:\n      - cassandraNode3\n    volumes:\n      - \"~/etl-nosql/db/volumes/cassandra/var/lib/cassandra:/var/lib/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/etc/cassandra:/etc/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/schema:/tables\"\n      - \"~/etl-nosql/db/tables:/tables_data\"\n    networks:\n      - cassandra",
    "  cassandraNode5:\n    image: cassandra\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n5\n    environment:\n      CASSANDRA_BROADCAST_ADDRESS: \"cassandraNode5\"\n      CASSANDRA_SEEDS: \"cassandraNode0, cassandraNode1, cassandraNode2, cassandraNode3, cassandraNode4\"\n    ports:\n      - \"7000:7000\"\n      - \"9042:9042\"\n    depends_on:\n      - cassandraNode4\n    volumes:\n      - \"~/etl-nosql/db/volumes/cassandra/var/lib/cassandra:/var/lib/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/etc/cassandra:/etc/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/schema:/tables\"\n      - \"~/etl-nosql/db/tables:/tables_data\"\n    networks:\n      - cassandra",
    "  cassandraNode6:\n    image: cassandra\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n6\n    environment:\n      CASSANDRA_BROADCAST_ADDRESS: \"cassandraNode6\"\n      CASSANDRA_SEEDS: \"cassandraNode0, cassandraNode1, cassandraNode2, cassandraNode3, cassandraNode4, cassandraNode5\"\n    ports:\n      - \"7000:7000\"\n      - \"9042:9042\"\n    depends_on:\n      - cassandraNode5\n    volumes:\n      - \"~/etl-nosql/db/volumes/cassandra/var/lib/cassandra:/var/lib/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/etc/cassandra:/etc/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/schema:/tables\"\n      - \"~/etl-nosql/db/tables:/tables_data\"\n    networks:\n      - cassandra",
    "  cassandraNode7:\n    image: cassandra\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n7\n    environment:\n      CASSANDRA_BROADCAST_ADDRESS: \"cassandraNode7\"\n      CASSANDRA_SEEDS: \"cassandraNode0, cassandraNode1, cassandraNode2, cassandraNode3, cassandraNode4, cassandraNode5, cassandraNode6\"\n    ports:\n      - \"7000:7000\"\n      - \"9042:9042\"\n    volumes:\n      - \"~/etl-nosql/db/volumes/cassandra/var/lib/cassandra:/var/lib/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/etc/cassandra:/etc/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/schema:/tables\"\n      - \"~/etl-nosql/db/tables:/tables_data\"\n    networks:\n      - cassandra",
    "  cassandraNode8:\n    image: cassandra\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n8\n    environment:\n      CASSANDRA_BROADCAST_ADDRESS: \"cassandraNode8\"\n      CASSANDRA_SEEDS: \"cassandraNode0, cassandraNode1, cassandraNode2, cassandraNode3, cassandraNode4, cassandraNode5, cassandraNode6, cassandraNode7\"\n    ports:\n      - \"7000:7000\"\n      - \"9042:9042\"\n    volumes:\n      - \"~/etl-nosql/db/volumes/cassandra/var/lib/cassandra:/var/lib/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/etc/cassandra:/etc/cassandra\"\n      - \"~/etl-nosql/db/volumes/cassandra/schema:/tables_schema\"\n      - \"~/etl-nosql/db/tables:/tables_data\"\n    networks:\n      - cassandra"
  ],
  "end": "networks:\n  cassandra:\n    external:\n      name: cassandraNet"
}