{
  "parts": [
    "version: '3.3'\nservices:\n  cassandra-1:\n    image: cassandra:latest\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n1\n    environment:\n      CASSANDRA_LISTEN_ADDRESS: tasks.cassandra-1\n    volumes:\n      - \"~/etl-nosql/db/cassandra/tables_schema:/tables_schema\"\n      - \"~/etl-nosql/db/table_data:/table_data\"\n      - \"~/etl-nosql/db/cassandra/var/lib/cassandra/{cluster_size}/{data_size}:/var/lib/cassandra\"\n      - type: bind\n        source: \"~/etl-nosql/db/cassandra/etc/cassandra/jvm.options\"\n        target: \"/etc/cassandra/jvm.options\"\n    ports:\n      - \"7000:7000\"\n      - \"9042:9042\"\n    networks:\n      - cassandra\n",
    "  cassandra-2:\n    image: cassandra:latest\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n2\n    environment:\n      CASSANDRA_LISTEN_ADDRESS: tasks.cassandra-2\n      CASSANDRA_SEEDS: \"tasks.cassandra-1\"\n    volumes:\n      - \"~/etl-nosql/db/cassandra/tables_schema:/tables_schema\"\n      - \"~/etl-nosql/db/table_data:/table_data\"\n      - \"~/etl-nosql/db/cassandra/var/lib/cassandra/{cluster_size}/{data_size}:/var/lib/cassandra\"\n      - type: bind\n        source: \"~/etl-nosql/db/cassandra/etc/cassandra/jvm.options\"\n        target: \"/etc/cassandra/jvm.options\"\n    depends_on:\n      - \"cassandra-1\"\n    ports:\n      - 7000\n      - 9042\n    networks:\n      - cassandra",
    "  cassandra-3:\n    image: cassandra:latest\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n3\n    environment:\n      CASSANDRA_LISTEN_ADDRESS: tasks.cassandra-3\n      CASSANDRA_SEEDS: \"tasks.cassandra-1, tasks.cassandra-2\"\n    volumes:\n      - \"~/etl-nosql/db/cassandra/tables_schema:/tables_schema\"\n      - \"~/etl-nosql/db/table_data:/table_data\"\n      - \"~/etl-nosql/db/cassandra/var/lib/cassandra/{cluster_size}/{data_size}:/var/lib/cassandra\"\n      - type: bind\n        source: \"~/etl-nosql/db/cassandra/etc/cassandra/jvm.options\"\n        target: \"/etc/cassandra/jvm.options\"\n    depends_on:\n      - \"cassandra-1\"\n    ports:\n      - 7000\n      - 9042\n    networks:\n      - cassandra\n",
    "  cassandra-4:\n    image: cassandra:latest\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n4\n    environment:\n      CASSANDRA_LISTEN_ADDRESS: tasks.cassandra-4\n      CASSANDRA_SEEDS: \"tasks.cassandra-1, tasks.cassandra-2, tasks.cassandra-3\"\n    volumes:\n      - \"~/etl-nosql/db/cassandra/tables_schema:/tables_schema\"\n      - \"~/etl-nosql/db/table_data:/table_data\"\n      - \"~/etl-nosql/db/cassandra/var/lib/cassandra/{cluster_size}/{data_size}:/var/lib/cassandra\"\n      - type: bind\n        source: \"~/etl-nosql/db/cassandra/etc/cassandra/jvm.options\"\n        target: \"/etc/cassandra/jvm.options\"\n    depends_on:\n      - \"cassandra-1\"\n    ports:\n      - 7000\n      - 9042\n    networks:\n      - cassandra\n",
    "  cassandra-5:\n    image: cassandra:latest\n    deploy:\n      placement:\n        constraints:\n          - node.labels.node==n5\n    environment:\n      CASSANDRA_LISTEN_ADDRESS: tasks.cassandra-5\n      CASSANDRA_SEEDS: \"tasks.cassandra-1, tasks.cassandra-2, tasks.cassandra-3, tasks.cassandra-4\"\n    volumes:\n      - \"~/etl-nosql/db/cassandra/tables_schema:/tables_schema\"\n      - \"~/etl-nosql/db/table_data:/table_data\"\n      - \"~/etl-nosql/db/cassandra/var/lib/cassandra/{cluster_size}/{data_size}:/var/lib/cassandra\"\n      - type: bind\n        source: \"~/etl-nosql/db/cassandra/etc/cassandra/jvm.options\"\n        target: \"/etc/cassandra/jvm.options\"\n    depends_on:\n      - \"cassandra-1\"\n    ports:\n      - 7000\n      - 9042\n    networks:\n      - cassandra\n"
  ],
  "end": "networks:\n  cassandra:\n    external:\n      name: cassandraNet"
}